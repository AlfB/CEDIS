<head><meta charset="utf-8" /><script src="file:///C:/Users/hp/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\DataPlotly\jsscripts/polyfill.min.js"></script><script src="file:///C:/Users/hp/AppData/Roaming/QGIS/QGIS3\profiles\default/python/plugins\DataPlotly\jsscripts/plotly-1.34.0.min.js"></script></head><div id="bf5a9dc5-710a-42a8-9be3-ecb45f8342c1" style="height: 100%; width: 100%;" class="plotly-graph-div"></div><script type="text/javascript">window.PLOTLYENV=window.PLOTLYENV || {};window.PLOTLYENV.BASE_URL="https://plot.ly";Plotly.newPlot("bf5a9dc5-710a-42a8-9be3-ecb45f8342c1", [{"type": "histogram", "x": ["ATLACOMULCO", "OTUMBA", "ATLACOMULCO", "TEJUPILCO", "IXTLAHUACA", "TENANCINGO", "VALLE DE BRAVO", "TEJUPILCO", "AMECAMECA", "ZUMPANGO", "TEXCOCO", "LERMA", "CUAUTITLAN IZCALLI", "ATLACOMULCO", "AMECAMECA", "OTUMBA", "AMECAMECA", "TENANCINGO", "LERMA", "TULTITLAN", "AMECAMECA", "TEPOTZOTLAN", "TULTITLAN", "AMECAMECA", "ATLACOMULCO", "METEPEC", "OTUMBA", "CHIMALHUACAN", "TEXCOCO", "CHIMALHUACAN", "VALLE DE BRAVO", "ECATEPEC", "AMECAMECA", "ZUMPANGO", "ZUMPANGO", "NAUCALPAN", "NAUCALPAN", "CHIMALHUACAN", "TEJUPILCO", "VALLE DE BRAVO", "IXTLAHUACA", "LERMA", "TEPOTZOTLAN", "ATLACOMULCO", "NAUCALPAN", "IXTLAHUACA", "ATLACOMULCO", "TENANCINGO", "AMECAMECA", "LERMA", "TENANCINGO", "TEPOTZOTLAN", "METEPEC", "METEPEC", "ATLACOMULCO", "NAUCALPAN", "TEPOTZOTLAN", "CUAUTITLAN IZCALLI", "OTUMBA", "LERMA", "TENANCINGO", "ATLACOMULCO", "OTUMBA", "VALLE DE BRAVO", "AMECAMECA", "OTUMBA", "CHIMALHUACAN", "ATLACOMULCO", "TENANCINGO", "TENANCINGO", "IXTLAHUACA", "OTUMBA", "METEPEC", "VALLE DE BRAVO", "VALLE DE BRAVO", "ATLACOMULCO", "TEJUPILCO", "ECATEPEC", "TEJUPILCO", "AMECAMECA", "OTUMBA", "ATLACOMULCO", "TENANCINGO", "AMECAMECA", "TEPOTZOTLAN", "OTUMBA", "OTUMBA", "AMECAMECA", "TEPOTZOTLAN", "ZUMPANGO", "LERMA", "TEXCOCO", "TEXCOCO", "LERMA", "ATLACOMULCO", "AMECAMECA", "TLALNEPANTLA", "TEJUPILCO", "TEJUPILCO", "TULTITLAN", "TULTITLAN", "VALLE DE BRAVO", "VALLE DE BRAVO", "ATLACOMULCO", "VALLE DE BRAVO", "VALLE DE BRAVO", "TEJUPILCO", "TOLUCA", "TENANCINGO", "ZUMPANGO", "CUAUTITLAN IZCALLI", "AMECAMECA", "TEJUPILCO", "ATLACOMULCO", "TEPOTZOTLAN", "NAUCALPAN", "TEJUPILCO", "TEJUPILCO", "VALLE DE BRAVO", "VALLE DE BRAVO", "IXTLAHUACA", "IXTLAHUACA", "TENANCINGO", "TOLUCA", "NEZAHUALCOYOTL"], "y": ["ATLACOMULCO", "OTUMBA", "ATLACOMULCO", "TEJUPILCO", "IXTLAHUACA", "TENANCINGO", "VALLE DE BRAVO", "TEJUPILCO", "AMECAMECA", "ZUMPANGO", "TEXCOCO", "LERMA", "CUAUTITLAN IZCALLI", "ATLACOMULCO", "AMECAMECA", "OTUMBA", "AMECAMECA", "TENANCINGO", "LERMA", "TULTITLAN", "AMECAMECA", "TEPOTZOTLAN", "TULTITLAN", "AMECAMECA", "ATLACOMULCO", "METEPEC", "OTUMBA", "CHIMALHUACAN", "TEXCOCO", "CHIMALHUACAN", "VALLE DE BRAVO", "ECATEPEC", "AMECAMECA", "ZUMPANGO", "ZUMPANGO", "NAUCALPAN", "NAUCALPAN", "CHIMALHUACAN", "TEJUPILCO", "VALLE DE BRAVO", "IXTLAHUACA", "LERMA", "TEPOTZOTLAN", "ATLACOMULCO", "NAUCALPAN", "IXTLAHUACA", "ATLACOMULCO", "TENANCINGO", "AMECAMECA", "LERMA", "TENANCINGO", "TEPOTZOTLAN", "METEPEC", "METEPEC", "ATLACOMULCO", "NAUCALPAN", "TEPOTZOTLAN", "CUAUTITLAN IZCALLI", "OTUMBA", "LERMA", "TENANCINGO", "ATLACOMULCO", "OTUMBA", "VALLE DE BRAVO", "AMECAMECA", "OTUMBA", "CHIMALHUACAN", "ATLACOMULCO", "TENANCINGO", "TENANCINGO", "IXTLAHUACA", "OTUMBA", "METEPEC", "VALLE DE BRAVO", "VALLE DE BRAVO", "ATLACOMULCO", "TEJUPILCO", "ECATEPEC", "TEJUPILCO", "AMECAMECA", "OTUMBA", "ATLACOMULCO", "TENANCINGO", "AMECAMECA", "TEPOTZOTLAN", "OTUMBA", "OTUMBA", "AMECAMECA", "TEPOTZOTLAN", "ZUMPANGO", "LERMA", "TEXCOCO", "TEXCOCO", "LERMA", "ATLACOMULCO", "AMECAMECA", "TLALNEPANTLA", "TEJUPILCO", "TEJUPILCO", "TULTITLAN", "TULTITLAN", "VALLE DE BRAVO", "VALLE DE BRAVO", "ATLACOMULCO", "VALLE DE BRAVO", "VALLE DE BRAVO", "TEJUPILCO", "TOLUCA", "TENANCINGO", "ZUMPANGO", "CUAUTITLAN IZCALLI", "AMECAMECA", "TEJUPILCO", "ATLACOMULCO", "TEPOTZOTLAN", "NAUCALPAN", "TEJUPILCO", "TEJUPILCO", "VALLE DE BRAVO", "VALLE DE BRAVO", "IXTLAHUACA", "IXTLAHUACA", "TENANCINGO", "TOLUCA", "NEZAHUALCOYOTL"], "name": "Municipios por Regi\u00f3n", "orientation": "v", "nbinsx": null, "nbinsy": null, "marker": {"color": "rgb(0, 158, 42)", "line": {"color": "rgb(0, 0, 0)", "width": 1}}, "histnorm": "", "opacity": 1.0, "cumulative": {"enabled": false, "direction": "increasing"}}], {"showlegend": true, "legend": {"orientation": "v"}, "title": "Regiones", "xaxis": {"title": "REGION", "autorange": true}, "yaxis": {"title": "NOM_MUN", "autorange": true}, "barmode": "group", "bargroupgap": 0.0}, {"showLink": false, "linkText": "Export to plot.ly"})</script>
        <script>
        // additional js function to select and click on the data
        // returns the ids of the selected/clicked feature

        var plotly_div = document.getElementById('bf5a9dc5-710a-42a8-9be3-ecb45f8342c1')
        var plotly_data = plotly_div.data

        // selecting function
        plotly_div.on('plotly_selected', function(data){
        var dds = {};
        dds["mode"] = 'selection'
        dds["type"] = data.points[0].data.type

        featureIds = [];
        featureIdsTernary = [];

        data.points.forEach(function(pt){
        featureIds.push(parseInt(pt.id))
        featureIdsTernary.push(parseInt(pt.pointNumber))
        dds["id"] = featureIds
        dds["tid"] = featureIdsTernary
            })
        //console.log(dds)
        window.status = JSON.stringify(dds)
        })

        // clicking function
        plotly_div.on('plotly_click', function(data){
        var featureIds = [];
        var dd = {};
        dd["fidd"] = data.points[0].id
        dd["mode"] = 'clicking'

        // loop and create dictionary depending on plot type
        for(var i=0; i < data.points.length; i++){

        // scatter plot
        if(data.points[i].data.type == 'scatter'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type

            data.points.forEach(function(pt){
            dd["fid"] = pt.id
            })
        }

        // pie

        else if(data.points[i].data.type == 'pie'){
          dd["type"] = data.points[i].data.type
          dd["label"] = data.points[i].label
          dd["field"] = data.points[i].data.name
          console.log(data.points[i].label)
          console.log(data.points[i])
        }

        // histogram
        else if(data.points[i].data.type == 'histogram'){
            dd["type"] = data.points[i].data.type
            dd["uid"] = data.points[i].data.uid
            dd["field"] = data.points[i].data.name

            // correct axis orientation
            if(data.points[i].data.orientation == 'v'){
                dd["id"] = data.points[i].x
                dd["bin_step"] = data.points[i].data.xbins.size
            }
            else {
                dd["id"] = data.points[i].y
                dd["bin_step"] = data.points[i].data.ybins.size
            }
        }

        // box plot
        else if(data.points[i].data.type == 'box'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // bar plot
        else if(data.points[i].data.type == 'bar'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // ternary
        else if(data.points[i].data.type == 'scatterternary'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata
            dd["fid"] = data.points[i].pointNumber
            }

            }
        window.status = JSON.stringify(dd)
        });
        </script>